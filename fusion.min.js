(function(f){function g(a,d){var b=k(this,a,d);b.extend=g;return b}var h=function(){},k=function(a,d,b){var e;e=d&&d.hasOwnProperty("constructor")?d.constructor:function(){return a.apply(this,arguments)};e=f.extend(!0,{},e,a);h.prototype=a.prototype;e.prototype=new h;d&&(e.prototype=f.extend(!0,{},e.prototype,d));b&&(e=f.extend(!0,{},e,b));e.prototype.constructor=e;e.__super__=a.prototype;return e},c={version:"0.1"};(function(a){a.event=new function(a){this.data={};for(var b in a)this.data[b]=a[b];
this.isValidEvent=!0};a.event.__proto__.initialize=function(a){for(var b in a)void 0!==this.prototype[b]&&(this.data[b]=a[b])};a.event.__proto__.getData=function(a){return void 0===a?this.data:this.data[a]};a.event.extend=g})(c);c.fused=function(){this.collection=[];this.add=function(a,d,b){if(void 0===a)throw Error("eventName must be defined.");if(void 0===d)throw Error("handler must be defined.");if(void 0===b)throw Error("priority must be defined.");this.collection.push({name:a,priority:b,handler:d});
return this};this.remove=function(a,d,b){var e=[],c,f;for(f in this.collection)c=this.collection[f],c.name==a&&(void 0===d?e.push(this.collection.splice(f,1)):d==c.handler&&b==c.priority&&e.push(this.collection.splice(f,1)));return!!e.length};this.all=function(a){if(void 0===a)throw Error("eventName must be defined.");var d=[],b,c;for(c in this.collection)b=this.collection[c],b.name==a&&d.push(b);d.sort(function(a,b){return a.priority>b.priority?1:-1});return d}};c.fused=new c.fused;c.fuse=function(a,
d,b){if(void 0===c.events.get(a))throw Error("Fused event does not exist.");if(null===b||void 0===b)b=50;c.fused.add(a,d,b)};c.defuse=function(a,d,b){if(!c.events.has(a))throw Error("Fused event does not exist.");if(null===b||void 0===b)b=50;c.fused.remove(a,d,b)};c.ignite=function(a,d){var b=c.fused.all(a),e,f;for(f in b){if(!c.events.has(a))throw Error(a+" is not a valid event.");e=c.events.get(a);e.initialize(d);if(!e.isValidEvent)throw Error(a+" is not a valid event class.");if(!1===b[f].handler(e))return!1}return!0};
c.events=function(){this.collection={};this.add=function(a,c){if(void 0!==this.collection[a])throw Error("Event with name '"+a+"' already exists!");c=void 0===c?{}:c;this.collection[a]=c;return this};this.has=function(a){return void 0!==this.collection[a]};this.get=function(a){return this.collection[a]}};c.events=new c.events;f.fn.fusion=c;window.$f=void 0===window.$f?f.fn.fusion:window.$f;f(function(){c.ignite("DOCUMENT_LOAD",{window:window,cheese:"cheese"});f(document).unload(function(){c.ignite("DOCUMENT_UNLOAD",
{window:window})})})})(jQuery);/*
 Underground Elephant 2013
*/
(function(f){var g=f.event.extend({window:window,document:document});f.events.add("DOCUMENT_LOAD",g);f.events.add("DOCUMENT_UNLOAD",g)})($.fn.fusion);
